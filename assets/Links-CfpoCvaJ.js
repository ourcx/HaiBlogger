import{d as w,c as b,r as c,w as Y,ar as _,as as o,a1 as q,at as s,aI as u,au as n,aJ as G,aB as m,ak as S,aG as $,az as D,aK as X,aA as j,av as h,aH as A,aD as E,aL as H,aM as J,ax as F}from"./index-Ddy5gRp3.js";const v=w({props:{vNode:{type:[String,Object],required:!0}},setup(i){return()=>i.vNode}}),K=function(i,t){return typeof i=="number"&&typeof t=="number"?{width:`${i}px`,height:`${t}px`}:{width:i,height:t}},O={class:"fei-image__placeholder"},R={class:"fei-image__img"},P=["src","alt"],Q={class:"fei-image__fallback"},U={class:"fei-image__header"},Z={class:"fei-image__title"},x=["src","alt"],ee={class:"fei-image__footer"},se=w({name:"FeiImage",__name:"Image",props:{mode:{default:"aspectFill"},shape:{default:"square"},radius:{default:0},visible:{type:Boolean,default:!1},placeholder:{default:"正在加载..."},fallback:{default:""},lazy:{type:Boolean,default:!1},src:{default:""},alt:{default:""},width:{default:"200px"},height:{default:"400px"},footer:{},title:{},descriation:{type:Boolean,default:!1},screen:{type:Boolean,default:!1},lazyLoad:{type:Boolean,default:!1}},emits:["onLoad","onClick","onClose"],setup(i,{emit:t}){const r=t,l=i,T=b(()=>l.descriation||l.title),V=b(()=>l.descriation||l.footer),N=b(()=>K(l.width,l.height)),g=c(null),f=c(!1),M=()=>{l.screen&&(f.value=!0,r("onClick"))},C=e=>{const a=g.value;if(!a)return;const d=window.getComputedStyle(a).transform;let k=d&&d!=="none"?parseFloat(d.split("(")[1].split(",")[0]):1;e.deltaY>0?k*=1.1:k/=1.1,a.style.transform=`scale(${k})`,e.preventDefault()},B=c(0),I=c(0),p=c(!1),L=e=>{if(!p.value)return;e.preventDefault();const a=g.value;a&&(B.value=e.clientX-a.width/2,I.value=e.clientY-a.height/2,a.style.cursor="move",a.style.position="absolute",a.style.transition="left 0.1s ease-in-out, top 0.1s ease-in-out",a.style.left=B.value+"px",a.style.top=I.value+"px")},W=()=>{f.value=!1,p.value=!1,r("onClose",f.value)};Y(()=>l.visible,e=>{e&&r("onLoad")});const z=()=>l.lazyLoad?l.src:"";return(e,a)=>{const y=J("lazy");return o(),_(q,null,[s("div",{class:"fei-image",style:G(`width:${N.value.width}; height:${N.value.height}`)},[s("div",O,[T.value?(o(),u(m(v),{key:0,vNode:e.title??""},null,8,["vNode"])):n("",!0)]),s("div",R,[s("div",{class:$({loading:e.visible})},[s("div",{class:$({"fei-image__loading":e.visible})},null,2),e.visible?(o(),u(m(v),{key:0,vNode:e.placeholder??""},null,8,["vNode"])):n("",!0),e.visible?n("",!0):(o(),u(m(v),{key:1,vNode:e.fallback??""},null,8,["vNode"]))],2),S(s("img",{src:e.src,alt:e.alt,onClick:M,class:$({[`fei-image--${e.shape}`]:e.shape,[`fei-image--${e.mode}`]:e.mode})},null,10,P),[[y,z]])]),s("div",Q,[V.value?(o(),u(m(v),{key:0,vNode:e.footer??""},null,8,["vNode"])):n("",!0)])],4),f.value?(o(),u(H,{key:0,to:"body"},[D(X,{name:"fei-image-spin"},{default:j(()=>[s("div",{class:"fei-image-Teleport",onWheel:C,onMousedown:a[1]||(a[1]=d=>p.value=!p.value),onMousemove:L},[s("div",U,[s("div",Z,h(e.title),1),s("div",{class:"fei-image__close",onClick:a[0]||(a[0]=d=>W())})]),s("div",{class:"fei-image__body",onMousedown:L},[S(s("img",{src:e.src,alt:e.alt,ref_key:"img",ref:g},null,8,x),[[y,z]])],32),s("div",ee,[A(e.$slots,"footer",{},()=>[E(h(e.footer),1)],!0)])],32),s("div",{class:"is-screen",onWheel:C},null,32)]),_:3})])):n("",!0)],64)}}}),ae=F(se,[["__scopeId","data-v-a546a4d8"]]),te=["href"],le={class:"fei-link__image-wrapper"},oe={class:"fei-link__text"},ie={class:"fei-link__title"},ne={key:0,class:"fei-link__description"},re={key:1,class:"fei-link__separator"},de=w({name:"FeiLinks",__name:"Links",props:{src:{default:"https://picsum.photos/200/300"},name:{default:"空白"},href:{},description:{default:"无描述"}},setup(i){return(t,r)=>(o(),_("a",{class:"fei-link",target:"_blank",rel:"nofollow noopener",href:t.href},[s("span",le,[r[0]||(r[0]=s("span",{class:"fei-link__image-aspect"},null,-1)),D(ae,{src:t.src,mode:"aspectFill",shape:"circle",screen:!1,width:"40px",height:"50px"},null,8,["src"])]),s("span",oe,[s("span",ie,h(t.name),1),t.description?(o(),_("span",ne,h(t.description),1)):n("",!0),t.description?(o(),_("span",re,"-")):n("",!0)])],8,te))}}),ue=F(de,[["__scopeId","data-v-63ec7e92"]]);export{ue as L};
